@if (!token) {
<form (ngSubmit)="onSubmit()" [formGroup]="recoveryForm" class="auth-form">
  <div class="auth-header">
    <img src="assets/logo.svg" alt="Logo" class="auth-logo" />
    <h2 class="auth-title">Recuperar Contraseña</h2>
  </div>

  <div class="form-row">
    <label for="email" class="custom-label">Correo Electrónico</label>
    <mat-form-field appearance="outline" class="full-width">
      <input matInput formControlName="email" placeholder="email@email.com" type="email" id="email"/>
      <mat-icon matSuffix>email</mat-icon>
      @if (recoveryForm.get('email')?.invalid &&
      recoveryForm.get('email')?.touched) {
      <mat-error>{{ "Ingresa un correo válido" }}</mat-error>
      }
    </mat-form-field>
  </div>

  <div class="btn-group">
    <button
      mat-raised-button
      type="submit"
      [disabled]="recoveryForm.invalid"
      class="itg-primary-btn"
    >
      Enviar Enlace de Recuperación
    </button>

    <button
      mat-button
      type="button"
      class="itg-secondary-btn"
      (click)="goBackToLogin()"
    >
      Volver al inicio de sesión
    </button>
  </div>
</form>

}@else {
<form (ngSubmit)="onSubmit()" [formGroup]="resetForm" class="auth-form">
  <div class="auth-header">
    <img src="assets/logo.svg" alt="Logo" class="auth-logo" />
    <h2 class="auth-title">Nueva Contraseña</h2>
  </div>

  <div class="form-row">
    <label for="password" class="custom-label">Nueva Contraseña</label>
    <mat-form-field appearance="outline" class="full-width">
      <input
        matInput
        type="password"
        formControlName="newPassword"
        id="password"
        required
      />
    </mat-form-field>
  </div>

  <div class="form-row">
    <label for="confirmPassword" class="custom-label"
      >Confirmar Contraseña</label
    >
    <mat-form-field appearance="outline" class="full-width">
      <input
        matInput
        type="password"
        formControlName="confirmPassword"
        id="confirmPassword"
        required
      />
    </mat-form-field>
  </div>

  <div class="btn-group">
    <button
      mat-raised-button
      type="submit"
      [disabled]="resetForm.invalid"
      class="itg-primary-btn"
    >
      Guardar Nueva Contraseña
    </button>

    <button
      mat-button
      type="button"
      class="itg-secondary-btn"
      (click)="goBackToLogin()"
    >
      Volver al inicio de sesión
    </button>
  </div>
</form>
}

<!-- Reset password form (visible solo si hay token) -->
